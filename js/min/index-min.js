Parse.initialize("l3iYSEoRauE5ctDyD6CwojGCGIyJHxeCmgEMhnjZ","prAydsNAqfn6j4BYudc9iJhvavc0C5IcMUyOC6Yj");var toggleHeight=!0,userIsRegistering=!1,validateUser=function(e,t){return t.find({success:function(t){t.length>0&&(e=!1)}}),e},userSigninFunction=function(e){e.signUp(null,{success:function(e){window.location.href="dashboard.html"},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},parseLoginAuthentication=function(e,t){Parse.User.logIn(e,t,{success:function(e){window.location.href="dashboard.html"},error:function(e,t){alert("NOT")}})},renderingRegistrationFieldsAndAppendingThemToDOM=function(){$("#passwordInputField").after('<input type="password" value="" class="form-control .loginBox input 					center-block" placeholder="confirm password" id="passwordConfirmation" />'),$("#passwordConfirmation").hide().show("slow"),$("#passwordConfirmation").after('<input type="email" value="" class="form-control .loginBox input 					center-block" placeholder="enter email" id="emailConfirmationOne" />'),$("#emailConfirmationOne").hide().show("slow"),$("#emailConfirmationOne").after('<input type="email" value="" class="form-control .loginBox input 					center-block" placeholder="confirm email" id="emailConfirmationTwo" />'),$("#emailConfirmationTwo").hide().show("slow")},toggleBooleanValuesForRegistrationButtonPress=function(){toggleHeight=!1,userIsRegistering=!0},resettingRegistrationValuesForButtonPress=function(){toggleHeight=!0,userIsRegistering=!1},clearOutInputs=function(){$("#usernameInputField").val(""),$("#passwordInputField").val("")},resettingUsernameAndRegistrationButtonText=function(){$("#registrationButtonPress").text("New User"),$("#loginButtonPress").text("Login")},hideFormFields=function(){$("#passwordConfirmation").hide("fast"),$("#emailConfirmationOne").hide("fast"),$("#emailConfirmationTwo").hide("fast")},aniamteFormFieldsFrom=function(){$(".loginBox").animate({height:"410px"})},toggleButtonNames=function(){$("#registrationButtonPress").text("Login"),$("#loginButtonPress").text("New User")},aniamteFormFieldsTo=function(){$(".loginBox").animate({height:"570px"})},togglingUsernameAndRegisterationButtonText=function(){$("#registrationButtonPress").text("Cancel"),$("#loginButtonPress").text("Register")},removeFormFields=function(){$("#passwordConfirmation").remove(),$("#emailConfirmationOne").remove(),$("#emailConfirmationTwo").remove()};$(document).ready(function(){var e=Parse.Object.extend("User"),t=new Parse.Query(e),n="";t.find({success:function(e){var t=e.length;n=t.toString()}}),$("#loginButtonPress").click(function(){if(userIsRegistering){var e=!0,t=!1,i=!1,o=$("#usernameInputField").val(),r=$("#passwordInputField").val(),s=$("#passwordConfirmation").val(),a=$("#emailConfirmationOne").val(),l=$("#emailConfirmationTwo").val(),u=new Parse.Query(Parse.User),g=Parse.Object.extend("GameScore");if(u.equalTo("username",o),e=validateUser(e,u),e===!0&&(r===s?t=!0:alert("Please make sure that both of your passwords are identical"),a===l?i=!0:alert("Please make sure that both of your email addresses are identical"),t&&i)){var m=Parse.Object.extend("ProfilePictures"),c=new Parse.Query(m);c.first({success:function(e){var t=e.get("largeImage"),i=e.get("smallImage"),r=new Parse.User;r.set("username",o),r.set("password",s),r.set("email",a),r.set("timetrialSkill",20),r.set("memorySkill",20),r.set("recognitionSkill",20),r.set("definitionsSkill",20),r.set("aboveandbeyondSkill",20),r.set("criticalthinkingSkill",20),r.set("level","1"),r.set("progress","90"),r.set("levelResistance",1),r.set("rank",n),r.set("trueRank",1),r.set("profilePicture",t),r.set("thumbnail",i),userSigninFunction(r)},error:function(e){alert("Error: "+e.code+" "+e.message)}})}}userIsRegistering===!1&&(username=$("#usernameInputField").val(),password=$("#passwordInputField").val(),parseLoginAuthentication(username,password))}),$("#registrationButtonPress").click(function(){toggleHeight?(removeFormFields(),togglingUsernameAndRegisterationButtonText(),aniamteFormFieldsTo(),renderingRegistrationFieldsAndAppendingThemToDOM(),toggleBooleanValuesForRegistrationButtonPress()):(aniamteFormFieldsFrom(),hideFormFields(),clearOutInputs(),resettingRegistrationValuesForButtonPress(),resettingUsernameAndRegistrationButtonText())})});